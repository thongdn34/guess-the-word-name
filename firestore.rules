rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /rooms/{roomId} {
      allow read: if true;
      allow create: if true; // Allow anyone to create rooms for now
      allow update: if true; // Allow updates for now - in production, add proper auth
      allow delete: if true; // Allow deletes for now - in production, add proper auth

      match /players/{playerId} {
        allow read: if true;
        allow create: if true; // Allow anyone to create players for now
        allow update: if true; // Allow updates for now - in production, add proper auth
        allow delete: if true; // Allow deletes for now - in production, add proper auth
      }

      match /rounds/{roundId} {
        allow read: if true;
        allow create: if true; // Allow anyone to create rounds for now
        allow update: if true; // Allow updates for now - in production, add proper auth
        allow delete: if true; // Allow deletes for now - in production, add proper auth
      }

      match /votingSessions/{sessionId} {
        allow read: if true;
        allow create: if true; // Allow anyone to create voting sessions for now
        allow update: if true; // Allow updates for now - in production, add proper auth
        allow delete: if true; // Allow deletes for now - in production, add proper auth

        match /votes/{voteId} {
          allow read: if true;
          allow create: if true; // Allow anyone to create votes for now
          allow update: if true; // Allow updates for now - in production, add proper auth
          allow delete: if true; // Allow deletes for now - in production, add proper auth
        }
      }
    }
  }
}
